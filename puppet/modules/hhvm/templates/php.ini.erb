max_execution_time = 180
date.timezone = 'UTC'
include_path = '.:/usr/share/php:/usr/share/pear'
pid = /var/run/hhvm/hhvm.pid

hhvm.server.type = fastcgi
hhvm.server.port = 9000
hhvm.server.source_root = <%= scope['::mediawiki::dir'] %>
hhvm.server.gzip_compression_level = 0
hhvm.server.graceful_shutdown_wait = 5

hhvm.dynamic_extension_path = /usr/lib/hphp/extensions/current

; JIT
hhvm.jit = false
hhvm.jit_afrozen_size = 100000000

; logging
hhvm.log.header = true
hhvm.log.level = Warning
hhvm.log.native_stack_trace = true
hhvm.log.always_log_unhandled_exceptions = true
hhvm.log.runtime_error_reporting_level = 8191
hhvm.log.use_log_file = true
hhvm.log.use_syslog = false
hhvm.log.file = <%= @logroot %>/hhvm/error.log
hhvm.log.access.file = <%= @logroot %>/hhvm/access.log
hhvm.log.access.format = %h %l %u % t \”%r\” %>s %b
hhvm.debug.core_dump_report_directory = <%= @logroot %>/hhvm

hhvm.repo.central.path = /var/run/hhvm/hhvm.hhbc
hhvm.repo.local.mode = --

hhvm.enable_zend_compat = true
hhvm.mysql.typed_results = false

; Output server level error messages to request
hhvm.debug.server_error_message = true

; debug server
hhvm.debugger.enable_debugger = true
hhvm.debugger.enable_debugger_server = true
hhvm.debugger.port = 8089
hhvm.debugger.default_sandbox_path = <%= scope['::mediawiki::dir'] %>
hhvm.debugger.startup_document = <%= scope['::mediawiki::dir'] %>/index.php
hhvm.sandbox.sandbox_mode = true

; admin server
hhvm.admin_server.port = 9001
hhvm.server.apc.enable_apc = true
hhvm.server.apc.table_type = concurrent

; http://vanderveer.be/speed-up-composer-by-using-hhvm-including-a-slowtimer-error-fix/
hhvm.resource_limit.socket_default_timeout = 300
hhvm.http.slow_query_threshold = 300000
